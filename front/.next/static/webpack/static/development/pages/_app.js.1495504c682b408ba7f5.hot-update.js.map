{"version":3,"file":"static/webpack/static/development/pages/_app.js.1495504c682b408ba7f5.hot-update.js","sources":["webpack:///./pages/signup.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\nimport { Button, Checkbox, Form, Input } from 'antd';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router from 'next/router';\nimport { SIGN_UP_REQUEST } from '../reducers/user';\n/*\n\n회원가입 페이지\n\n\n*/\n\nconst TextInput = ({ value }) => (\n  <div>{value}</div>\n);\n\nTextInput.propTypes = {\n  value: PropTypes.string,\n};\n//커스텀 훅 (export : 외부로 보내기)\n//만약 이곳에 값이 전달됬을경우\nexport const useInput = (initValue = null) => {\n  //전달된 매개변수를 value, setter로 스테이트 화 시킵니다\n  const [value, setter] = useState(initValue);\n  //핸들러라는 이름의 변수에  setter의 value를 넣습니다.\n  const handler = useCallback((e) => {\n    setter(e.target.value);\n  }, []);\n  return [value, handler];\n};\n\nconst Signup = () => {\n  const [passwordCheck, setPasswordCheck] = useState('');\n  const [term, setTerm] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n  const [termError, setTermError] = useState(false);\n\n  const [id, onChangeId] = useInput('');\n  const [nick, onChangeNick] = useInput('');\n  const [password, onChangePassword] = useInput('');\n  const dispatch = useDispatch();\n  const { isSigningUp, me } = useSelector(state => state.user);\n\n  useEffect(() => {\n    if (me) {\n      alert('로그인했으니 메인페이지로 이동합니다.');\n      Router.push('/');\n    }\n  }, [me && me.id]);\n\n  const onSubmit = useCallback((e) => {\n    e.preventDefault();//실제 제출되지않게\n    //검증로직\n    if (password !== passwordCheck) {\n      return setPasswordError(true);\n    }\n    if (!term) {\n      return setTermError(true);\n    }\n    return dispatch({ //api \n      type: SIGN_UP_REQUEST,\n      data: {\n        id,\n        password,\n        nick,\n      },\n    });\n  }, [password, passwordCheck, term]);\n\n  //input 창 value가 사용자에 의해 변경(입력) 될 때마다 실행되는 매서드 (스테이트 변경)\n  const onChangePasswordCheck = useCallback((e) => {\n    setPasswordError(e.target.value !== password);\n    setPasswordCheck(e.target.value);\n  }, [password]);\n\n  const onChangeTerm = useCallback((e) => {\n    setTermError(false);\n    setTerm(e.target.checked);\n  }, []);\n\n\n//함수로 직접 라우팅 하는법! //TODO: 공부를 위한 코드니 나중에 삭제\n  useEffect(()=>{\n    if(me){\n      alert('로그인 후 메인페이지 이동');\n      Router.push('/');\n    }\n  },[me && me.id]);//me.id가 생성되었을때 메인페이지로 이동합니다...\n\n\n  return (\n    <>\n      <Form onSubmit={onSubmit} style={{ padding: 10 }}>\n        <TextInput value=\"135135\" />\n        <div>\n          <label htmlFor=\"user-id\">아이디</label>\n          <br />\n          <Input name=\"user-id\" value={id} required onChange={onChangeId} />\n        </div>\n        <div>\n          <label htmlFor=\"user-nick\">닉네임</label>\n          <br />\n          <Input name=\"user-nick\" value={nick} required onChange={onChangeNick} />\n        </div>\n        <div>\n          <label htmlFor=\"user-password\">비밀번호</label>\n          <br />\n          <Input name=\"user-password\" type=\"password\" value={password} required onChange={onChangePassword} />\n        </div>\n        <div>\n          <label htmlFor=\"user-password-check\">비밀번호체크</label>\n          <br />\n          <Input\n            name=\"user-password-check\" type=\"password\" value={passwordCheck} required\n            onChange={onChangePasswordCheck}\n          />\n          {passwordError && <div style={{ color: 'red' }}>비밀번호가 일치하지 않습니다.</div>}\n        </div>\n        <div>\n          <Checkbox name=\"user-term\" value={term} onChange={onChangeTerm}>제로초 말을 잘 들을 것을 동의합니다.</Checkbox>\n          {termError && <div style={{ color: 'red' }}>약관에 동의하셔야 합니다.</div>}\n        </div>\n        <div style={{ marginTop: 10 }}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={isSigningUp}>가입하기</Button>\n        </div>\n      </Form>\n    </>\n  );\n};\n\nexport default Signup;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAGA;AACA;AADA;AAIA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AAVA;AAUA;AAAA;AAVA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}